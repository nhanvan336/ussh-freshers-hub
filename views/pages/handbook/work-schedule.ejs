<%# File: views/pages/handbook/work-schedule.ejs %>

<div class="page-header">
  <div class="container">
    <a href="/handbook" class="back-link"><i class="fas fa-arrow-left"></i> Quay lại Cẩm nang</a>

    <%# Kiểm tra xem có dữ liệu scheduleData được truyền sang không %>
    <% if (typeof scheduleData !== 'undefined') { %>
      <h2>Lịch công tác <%= scheduleData.dateRange %></h2>
      <p class="subtitle">Cập nhật lần cuối: <%= scheduleData.lastUpdated %></p>
    <% } else { %>
      <h2>Lịch công tác</h2>
      <p class="subtitle">Không thể tải dữ liệu lịch.</p>
    <% } %>
  </div>
</div>

<div class="container page-content">
  <div class="schedule-image-container text-center">
    <%# Nếu có scheduleData và có đường dẫn ảnh thì mới hiển thị %>
    <% if (typeof scheduleData !== 'undefined' && scheduleData.imageUrl) { %>
      <img src="<%= scheduleData.imageUrl %>" alt="Lịch công tác tuần" class="img-fluid rounded shadow-sm">
    <% } else { %>
      <div class="alert alert-warning" role="alert">
        Không tìm thấy hình ảnh lịch công tác. Vui lòng kiểm tra lại.
      </div>
    <% } %>
  </div>
</div>

<%# Thêm một chút CSS để đảm bảo ảnh không bị vỡ layout %>
<style>
  .schedule-image-container img {
    max-width: 100%;
    height: auto;
    border: 1px solid #ddd;
  }
</style>
